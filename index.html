<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Muebles a Medida Moncada – Melamina de Calidad con Emilio Moncada</title>
<meta name="description" content="Emilio Moncada - Especialista en muebles de melamina a medida con más de 10 años de experiencia. Placards, cocinas, mesas. Cipolletti y Alto Valle.">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{--primary:#8b5a2b;--secondary:#d7b98c;--accent:#a86d32;--light:#f8f4e9;--dark:#4e3629}
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif}
body{line-height:1.6;color:var(--dark);background:var(--light)}
.container{max-width:1200px;margin:0 auto;padding:0 20px}

/* Header */
header{background:var(--dark);color:#fff;position:sticky;top:0;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,.1)}
nav{display:flex;justify-content:space-between;align-items:center;padding:12px 0}
.logo{display:flex;align-items:center;gap:10px;color:var(--secondary);font-weight:700;font-size:22px}
.logo img{height:48px;width:auto;display:block;object-fit:contain}
.nav-links{display:flex;list-style:none}
.nav-links li{margin-left:24px}
.nav-links a{color:#fff;text-decoration:none;font-weight:500}
.nav-links a:hover{color:var(--secondary)}
/* Mobile menu */
.burger{display:none;font-size:22px;color:#fff;background:transparent;border:0;cursor:pointer}
@media (max-width:768px){
  .nav-links{position:fixed;inset:60px 0 auto 0;background:var(--dark);flex-direction:column;padding:16px;gap:14px;display:none}
  .nav-links.show{display:flex}
  .burger{display:block}
}

/* Hero */
.hero{padding:96px 0;text-align:center;color:#fff;background:
linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
url('https://images.unsplash.com/photo-1555041469-a586c61ea9bc?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat}
.hero h1{font-size:3rem;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,.45)}
.hero p{font-size:1.2rem;max-width:820px;margin:0 auto 28px}
.btn{display:inline-block;background:var(--secondary);color:var(--dark);padding:12px 26px;border-radius:8px;text-decoration:none;font-weight:700;border:0;cursor:pointer;box-shadow:0 4px 6px rgba(0,0,0,.1)}
.btn:hover{background:#e0c9a0;transform:translateY(-2px)}

/* Sections */
section{scroll-margin-top:86px}
.section-title{text-align:center;margin:48px 0 32px;font-size:2rem;color:var(--dark);position:relative}
.section-title:after{content:"";display:block;width:72px;height:4px;background:var(--accent);margin:12px auto 0}

/* About */
.about{background:#fff;padding-bottom:20px}
.about-content{display:flex;align-items:center;gap:36px}
.about-text{flex:1}
.about-text h3{color:var(--primary);margin-bottom:12px;font-size:1.6rem}
.about-image{flex:1;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.1)}
.about-image img{width:100%;display:block}

/* Experience section */
.experience{background:var(--light);padding:20px 0 60px}
.experience-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:22px}
.experience-card{background:#fff;padding:24px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);text-align:center;border-top:4px solid var(--accent)}
.experience-icon{font-size:2.2rem;color:var(--primary);margin-bottom:12px}
.experience-card h3{margin:14px 0;color:var(--dark);font-size:1.25rem}

/* Services */
.services{padding:20px 0 60px;background:#fff}
.services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:22px}
.service-card{background:var(--light);padding:24px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);text-align:center;border-top:4px solid var(--primary)}
.service-icon{font-size:2.2rem;color:var(--primary)}
.service-card h3{margin:14px 0;color:var(--dark);font-size:1.25rem}

/* Gallery */
.gallery{background:var(--light);padding-bottom:60px}
.gallery-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.card-img{position:relative;border-radius:14px;overflow:hidden;background:#fff;box-shadow:0 10px 30px rgba(0,0,0,.08)}
.card-img .ph{aspect-ratio: 4/3;background:#fff}
.card-img img{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1.02);transition:transform .45s;image-rendering:auto}
.card-img:hover img{transform:scale(1.07)}
.card-caption{position:absolute;left:12px;bottom:12px;background:rgba(78,54,41,.85);color:#fff;padding:8px 10px;border-radius:8px;font-size:.95rem}

/* Testimonials */
.testimonials{padding:20px 0 60px;background:#fff}
.testimonial-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:22px}
.testimonial-card{background:var(--light);padding:20px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.05)}
.testimonial-header{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.testimonial-avatar{width:56px;height:56px;border-radius:50%;overflow:hidden}
.testimonial-avatar img{width:100%;height:100%;object-fit:cover}
.stars{color:#ffc107}
.italic{font-style:italic}

/* Forms */
.block{max-width:900px;margin:0 auto;background:#fff;padding:24px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.1)}
.form-row{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
@media (max-width:700px){.form-row{grid-template-columns:1fr}}
label{font-weight:700;font-size:.95rem}
input,textarea,select{width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:16px;background:#fff}
textarea{height:130px;margin-top:6px}

/* Location + Footer */
.location{padding:20px 0 60px;background:var(--light)}
.location-content{display:flex;gap:36px;align-items:center}
.location-map{flex:1;height:380px;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.1)}
.location-info{flex:1}
.location-info h3{color:var(--primary);margin-bottom:10px;font-size:1.6rem}

footer{background:var(--dark);color:#fff;padding:52px 0 26px}
.footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:28px;margin-bottom:30px}
.footer-section h3{color:var(--secondary);margin-bottom:12px;font-size:1.15rem}
.footer-section p,.footer-section a{color:#ddd;margin-bottom:8px;display:block;text-decoration:none}
.social-links{display:flex;gap:12px;margin-top:10px}
.social-links a{display:inline-block;width:40px;height:40px;background:rgba(255,255,255,.1);border-radius:50%;text-align:center;line-height:40px}
.social-links a:hover{background:var(--accent)}
.footer-bottom{text-align:center;padding-top:20px;border-top:1px solid #444}

@media (max-width:900px){.about-content,.location-content{flex-direction:column}}
</style>
</head>
<body>

<header>
  <div class="container">
    <nav aria-label="Principal">
      <div class="logo">
        <img id="brandLogo" alt="Muebles Moncada"><span>Muebles Moncada</span>
      </div>
      <button class="burger" aria-label="Abrir menú" aria-controls="menu" aria-expanded="false"><i class="fas fa-bars"></i></button>
      <ul id="menu" class="nav-links">
        <li><a href="#inicio">Inicio</a></li>
        <li><a href="#emilio">Emilio</a></li>
        <li><a href="#experiencia">Experiencia</a></li>
        <li><a href="#servicios">Servicios</a></li>
        <li><a href="#galeria">Galería</a></li>
        <li><a href="#testimonios">Testimonios</a></li>
        <li><a href="#subidas">Subí tu trabajo</a></li>
        <li><a href="#ubicacion">Ubicación</a></li>
        <li><a href="#contacto">Contacto</a></li>
        <li><a href="https://wa.me/5492991234567" target="_blank" rel="nofollow noopener">WhatsApp</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero" id="inicio">
  <div class="container">
    <h1>Muebles a Medida en Melamina</h1>
    <p>Emilio Moncada - Especialista con más de 10 años de experiencia creando muebles únicos. Placards, cocinas, mesas y estantes. Cipolletti y todo el Alto Valle.</p>
    <a href="https://wa.me/5492991234567?text=Hola%20Emilio,%20quiero%20un%20presupuesto%20para%20muebles%20a%20medida" class="btn" target="_blank" rel="nofollow noopener">Presupuesto por WhatsApp</a>
  </div>
</section>

<section class="about" id="emilio" aria-labelledby="sobre">
  <div class="container">
    <h2 id="sobre" class="section-title">Sobre Emilio Moncada</h2>
    <div class="about-content">
      <div class="about-text">
        <h3>Especialista en Muebles de Melamina</h3>
        <p>Con más de 10 años de trayectoria en la fabricación de muebles a medida, me especializo en crear soluciones únicas y funcionales para cada hogar y negocio.</p>
        <p>Mi compromiso es realizar un trabajo súper completo, detallado y personalizado, adaptándome a las necesidades específicas de cada cliente y espacio.</p>
        <p>Desde mi sede en Cipolletti, atiendo todo el Alto Valle: Neuquén, General Roca, Villa Regina, Cinco Saltos, Allen y cercanías.</p>
        <p><strong>Cada proyecto es único, diseñado específicamente según tus medidas y requerimientos.</strong></p>
      </div>
      <div class="about-image">
        <img loading="lazy" src="https://images.unsplash.com/photo-1601760561441-16420502c7e0?q=80&w=1400&auto=format&fit=crop" alt="Taller de muebles Emilio Moncada">
      </div>
    </div>
  </div>
</section>

<section class="experience" id="experiencia" aria-labelledby="experiencia-title">
  <div class="container">
    <h2 id="experiencia-title" class="section-title">¿Por qué elegir a Emilio Moncada?</h2>
    <div class="experience-grid">
      <article class="experience-card">
        <div class="experience-icon"><i class="fas fa-medal"></i></div>
        <h3>+10 Años de Experiencia</h3>
        <p>Más de una década perfeccionando técnicas y desarrollando soluciones creativas para cada espacio.</p>
      </article>
      <article class="experience-card">
        <div class="experience-icon"><i class="fas fa-ruler-combined"></i></div>
        <h3>Trabajo a Medida</h3>
        <p>Cada mueble es diseñado específicamente para tu espacio, maximizando funcionalidad y estética.</p>
      </article>
      <article class="experience-card">
        <div class="experience-icon"><i class="fas fa-handshake"></i></div>
        <h3>Compromiso Total</h3>
        <p>Desde el diseño inicial hasta la instalación final, acompaño cada proyecto con dedicación y profesionalismo.</p>
      </article>
      <article class="experience-card">
        <div class="experience-icon"><i class="fas fa-tools"></i></div>
        <h3>Calidad Garantizada</h3>
        <p>Utilizo materiales de primera calidad y técnicas probadas para asegurar durabilidad y acabado perfecto.</p>
      </article>
    </div>
  </div>
</section>

<section class="services" id="servicios" aria-labelledby="servicios-title">
  <div class="container">
    <h2 id="servicios-title" class="section-title">Servicios Especializados</h2>
    <div class="services-grid">
      <article class="service-card">
        <div class="service-icon"><i class="fas fa-warehouse"></i></div>
        <h3>Placards y Vestidores</h3>
        <p>Puertas batientes y corredizas. Interior completamente personalizado con cajones, estantes y barras según tus necesidades de guardado.</p>
      </article>
      <article class="service-card">
        <div class="service-icon"><i class="fas fa-kitchen-set"></i></div>
        <h3>Cocinas Integrales</h3>
        <p>Bajo mesada, alacenas, laterales y zócalos. Diseño funcional que maximiza el espacio y facilita la organización.</p>
      </article>
      <article class="service-card">
        <div class="service-icon"><i class="fas fa-table"></i></div>
        <h3>Mesas y Muebles</h3>
        <p>Comedores, muebles para TV, bibliotecas, escritorios y estantes. Cada pieza única y adaptada a tu estilo de vida.</p>
      </article>
      <article class="service-card">
        <div class="service-icon"><i class="fas fa-store"></i></div>
        <h3>Muebles Comerciales</h3>
        <p>Mostradores, góndolas, estanterías y muebles para oficinas. Soluciones profesionales para tu negocio.</p>
      </article>
      <article class="service-card">
        <div class="service-icon"><i class="fas fa-home"></i></div>
        <h3>Proyectos Completos</h3>
        <p>Ambientación integral de espacios. Coordinamos todos los muebles para lograr armonía y funcionalidad total.</p>
      </article>
      <article class="service-card">
        <div class="service-icon"><i class="fas fa-wrench"></i></div>
        <h3>Reparaciones</h3>
        <p>Mantenimiento y reparación de muebles existentes. Renovamos y actualizamos tus muebles para extender su vida útil.</p>
      </article>
    </div>
  </div>
</section>

<section class="gallery" id="galeria" aria-labelledby="galeria-title">
  <div class="container">
    <h2 id="galeria-title" class="section-title">Galería de Trabajos</h2>
    <div id="galleryGrid" class="gallery-grid">
      <!-- se completa por JS con trabajos subidos + base -->
    </div>
  </div>
</section>

<section class="testimonials" id="testimonios" aria-labelledby="testimonios-title">
  <div class="container">
    <h2 id="testimonios-title" class="section-title">Clientes Satisfechos</h2>

    <div id="reviewsGrid" class="testimonial-grid">
      <!-- reseñas de usuarios + base -->
    </div>

    <div class="block" style="margin-top:16px">
      <h3 style="margin-bottom:10px">Dejá tu reseña</h3>
      <form id="reviewForm">
        <div class="form-row">
          <div>
            <label for="rname">Nombre</label>
            <input id="rname" name="name" required placeholder="Tu nombre">
          </div>
          <div>
            <label for="rloc">Localidad</label>
            <input id="rloc" name="location" required placeholder="Cipolletti, Neuquén...">
          </div>
        </div>
        <div class="form-row">
          <div>
            <label>Calificación</label>
            <div id="ratingStars" aria-label="Calificación" style="font-size:22px;cursor:pointer">
              <i data-v="1" class="fa-regular fa-star"></i>
              <i data-v="2" class="fa-regular fa-star"></i>
              <i data-v="3" class="fa-regular fa-star"></i>
              <i data-v="4" class="fa-regular fa-star"></i>
              <i data-v="5" class="fa-regular fa-star"></i>
            </div>
            <input type="hidden" id="rrate" name="rate" value="5">
          </div>
          <div>
            <label for="rphoto">Foto (opcional)</label>
            <input id="rphoto" name="photo" type="file" accept="image/*">
          </div>
        </div>
        <div style="margin-top:10px">
          <label for="rmsg">Tu experiencia</label>
          <textarea id="rmsg" name="message" required placeholder="Contanos cómo fue trabajar con Emilio"></textarea>
        </div>
        <button class="btn" style="margin-top:12px">Publicar reseña</button>
      </form>
    </div>
  </div>
</section>

<section class="about" id="subidas" aria-labelledby="subidas-title">
  <div class="container">
    <h2 id="subidas-title" class="section-title">Subí tu trabajo</h2>
    <div class="block">
      <p style="margin-bottom:16px">¿Emilio hizo muebles para vos? ¡Compartí fotos de cómo quedaron en tu hogar!</p>
      <form id="workForm">
        <div class="form-row">
          <div>
            <label for="wtitle">Título del trabajo</label>
            <input id="wtitle" name="title" required placeholder="Ej: Placard dormitorio principal">
          </div>
          <div>
            <label for="wcat">Categoría</label>
            <select id="wcat" name="category" required>
              <option value="">Elegí una categoría</option>
              <option>Placard</option><option>Cocina</option><option>Mesa</option><option>Estantes</option><option>Comedor</option><option>Escritorio</option><option>Biblioteca</option><option>Mueble TV</option><option>Comercial</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div>
            <label for="wdesc">Descripción</label>
            <textarea id="wdesc" name="desc" placeholder="Medidas, material, color, detalles especiales..." required></textarea>
          </div>
          <div>
            <label for="wphoto">Foto del trabajo</label>
            <input id="wphoto" name="photo" type="file" accept="image/*" required>
          </div>
        </div>
        <button class="btn" style="margin-top:12px">Guardar en galería</button>
        <p style="margin-top:8px;font-size:.9rem">Los trabajos quedan guardados en tu navegador. Podés eliminarlos limpiando datos del sitio.</p>
      </form>
    </div>
  </div>
</section>

<section class="location" id="ubicacion" aria-labelledby="ubicacion-title">
  <div class="container">
    <h2 id="ubicacion-title" class="section-title">Ubicación y Zona de Trabajo</h2>
    <div class="location-content">
      <div class="location-info">
        <h3>Cipolletti, Río Negro</h3>
        <p><strong>Sede principal:</strong> Cipolletti, desde donde coordino todos los proyectos y realizo las entregas.</p>
        <p><strong>Zona de cobertura:</strong> Todo el Alto Valle incluyendo Neuquén, General Roca, Villa Regina, Cinco Saltos, Allen y localidades cercanas.</p>
        <p>Con más de 10 años en la zona, conozco las necesidades específicas de cada localidad y adapto mis servicios accordingly.</p>
        <p><i class="fas fa-truck"></i> <strong>Entrega e instalación incluida</strong> en toda la zona de cobertura.</p>
      </div>
      <div class="location-map" aria-label="Mapa">
        <iframe title="Mapa Cipolletti" src="https://www.google.com/maps?q=Cipolletti,%20R%C3%ADo%20Negro&output=embed" width="100%" height="100%" style="border:0" loading="lazy"></iframe>
      </div>
    </div>
  </div>
</section>

<section class="about" id="contacto" aria-labelledby="contacto-title">
  <div class="container">
    <h2 id="contacto-title" class="section-title">Contacto</h2>
    <div class="block">
      <h3 style="margin-bottom:16px">¿Tenés un proyecto en mente?</h3>
      <p style="margin-bottom:20px">Contactame para conversar sobre tu idea. Te asesoro sin compromiso y te envío un presupuesto detallado.</p>
      
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:24px">
        <div style="text-align:center;padding:20px;background:var(--light);border-radius:8px">
          <i class="fab fa-whatsapp" style="font-size:2rem;color:#25d366;margin-bottom:8px"></i>
          <h4>WhatsApp</h4>
          <a href="https://wa.me/5492991234567" target="_blank" rel="nofollow noopener" style="color:var(--primary);text-decoration:none;font-weight:bold">+54 299 123-4567</a>
        </div>
        <div style="text-align:center;padding:20px;background:var(--light);border-radius:8px">
          <i class="fas fa-phone" style="font-size:2rem;color:var(--primary);margin-bottom:8px"></i>
          <h4>Teléfono</h4>
          <a href="tel:+542991234567" style="color:var(--primary);text-decoration:none;font-weight:bold">(0299) 123-4567</a>
        </div>
        <div style="text-align:center;padding:20px;background:var(--light);border-radius:8px">
          <i class="fas fa-envelope" style="font-size:2rem;color:var(--primary);margin-bottom:8px"></i>
          <h4>Email</h4>
          <a href="mailto:emilio@mueblesmoncada.com" style="color:var(--primary);text-decoration:none;font-weight:bold">emilio@mueblesmoncada.com</a>
        </div>
      </div>

      <div style="text-align:center">
        <a href="https://wa.me/5492991234567?text=Hola%20Emilio,%20quiero%20consultar%20sobre%20muebles%20a%20medida" class="btn" target="_blank" rel="nofollow noopener" style="font-size:1.1rem;padding:15px 30px">
          <i class="fab fa-whatsapp"></i> Escribir por WhatsApp
        </a>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Emilio Moncada - Muebles</h3>
        <p>Especialista en muebles de melamina a medida con más de 10 años de experiencia creando soluciones únicas para el Alto Valle de Río Negro y Neuquén.</p>
      </div>
      <div class="footer-section">
        <h3>Contacto</h3>
        <p><i class="fas fa-phone"></i> <a href="tel:+542991234567">(0299) 123-4567</a></p>
        <p><i class="fas fa-envelope"></i> <a href="mailto:emilio@mueblesmoncada.com">emilio@mueblesmoncada.com</a></p>
        <p><i class="fas fa-map-marker-alt"></i> Sede en Cipolletti, Río Negro</p>
      </div>
      <div class="footer-section">
        <h3>Seguinos</h3>
        <div class="social-links">
          <a aria-label="Facebook" href="https://facebook.com/mueblesmoncada" target="_blank" rel="nofollow noopener"><i class="fab fa-facebook-f"></i></a>
          <a aria-label="Instagram" href="https://instagram.com/mueblesmoncada" target="_blank" rel="nofollow noopener"><i class="fab fa-instagram"></i></a>
          <a aria-label="WhatsApp" href="https://wa.me/5492991234567" target="_blank" rel="nofollow noopener"><i class="fab fa-whatsapp"></i></a>
          <a aria-label="TikTok" href="https://www.tiktok.com/@mueblesmoncada" target="_blank" rel="nofollow noopener"><i class="fab fa-tiktok"></i></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom"><p>&copy; 2025 Emilio Moncada - Muebles a Medida · Todos los derechos reservados</p></div>
  </div>
</footer>

<script>
/* ====== CONFIG ====== */
const LOGO_FILE = "logo.png"; // <-- CAMBIA AQUÍ al nombre real de tu imagen

/* Header: logo + burger */
document.getElementById('brandLogo').src = LOGO_FILE;
const burger=document.querySelector('.burger'),menu=document.getElementById('menu');
burger?.addEventListener('click',()=>{const show=menu.classList.toggle('show');burger.setAttribute('aria-expanded',show?'true':'false');});

/* Smooth scroll */
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click',e=>{
    const id=a.getAttribute('href'); if(!id||id==="#") return;
    e.preventDefault(); const el=document.querySelector(id); if(!el) return;
    const top=el.getBoundingClientRect().top+window.scrollY-76;
    window.scrollTo({top,behavior:'smooth'}); menu?.classList.remove('show'); burger?.setAttribute('aria-expanded','false');
  });
});

/* ---------- Galería base (URLs estables y nítidas) ---------- */
const baseWorks=[{
  title:"Placard moderno",caption:"Puertas corredizas con espejos",img:"https://images.unsplash.com/photo-1598300187395-5a6c1f9e26b0?q=80&w=1400&auto=format&fit=crop"
},{
  title:"Mesa comedor familiar",caption:"Roble claro y melamina",img:"https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1400&auto=format&fit=crop"
},{
  title:"Cocina integral",caption:"Línea moderna funcional",img:"https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=1400&auto=format&fit=crop"
},{
  title:"Estantes flotantes",caption:"Modulares y versátiles",img:"https://images.unsplash.com/photo-1555041469-8699fed817cd?q=80&w=1400&auto=format&fit=crop"
},{
  title:"Bajo mesada",caption:"Funcional y resistente",img:"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=1400&auto=format&fit=crop"
},{
  title:"Mueble para TV",caption:"Diseño minimalista",img:"https://images.unsplash.com/photo-1503602642458-232111445657?q=80&w=1400&auto=format&fit=crop"
},{
  title:"Escritorio a medida",caption:"Espacio de trabajo optimizado",img:"https://images.unsplash.com/photo-1551298370-9c50423cc451?q=80&w=1400&auto=format&fit=crop"
},{
  title:"Biblioteca modular",caption:"Estantes ajustables",img:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1400&auto=format&fit=crop"
}];

/* Render galería (base + user) */
const galleryGrid=document.getElementById('galleryGrid');
function cardHTML(o){
  return `<figure class="card-img">
    <div class="ph"><img loading="lazy" src="${o.img}" alt="${o.title}"></div>
    <figcaption class="card-caption"><strong>${o.title}</strong> · ${o.caption||""}</figcaption>
  </figure>`;
}
function loadWorks(){
  const user=JSON.parse(localStorage.getItem('mm_user_works')||"[]");
  galleryGrid.innerHTML=[...user,...baseWorks].map(cardHTML).join("");
}
loadWorks();

/* Subir trabajos a galería (localStorage + base64) */
document.getElementById('workForm').addEventListener('submit',async e=>{
  e.preventDefault();
  const f=e.target; const file=f.wphoto.files[0]; if(!file) return;
  const reader=new FileReader();
  reader.onload=()=> {
    const entry={title:f.wtitle.value.trim(),caption:`${f.wcat.value} · ${f.wdesc.value.trim()}`,img:reader.result};
    const arr=JSON.parse(localStorage.getItem('mm_user_works')||"[]"); arr.unshift(entry);
    localStorage.setItem('mm_user_works',JSON.stringify(arr)); loadWorks(); f.reset();
    alert('Trabajo guardado en la galería de este dispositivo.');
  };
  reader.readAsDataURL(file);
});

/* ---------- Reseñas con estrellas + almacenamiento ---------- */
const baseReviews=[{
  name:"María González",loc:"Cipolletti",rate:5,txt:"Emilio me hizo la cocina completa. Trabajo impecable y en el plazo acordado. Súper recomendable.",img:"https://randomuser.me/api/portraits/women/65.jpg"
},{
  name:"Carlos López",loc:"Neuquén",rate:5,txt:"Excelente trabajo en los muebles de oficina. Muy prolijo y atento a cada detalle. Gran profesional.",img:"https://randomuser.me/api/portraits/men/32.jpg"
},{
  name:"Laura Martínez",loc:"General Roca",rate:5,txt:"El placard quedó perfecto, aprovecha cada centímetro. Materiales de primera calidad y terminación impecable.",img:"https://randomuser.me/api/portraits/women/45.jpg"
},{
  name:"Roberto Silva",loc:"Villa Regina",rate:4,txt:"Mesa de comedor hermosa y muy sólida. Emilio es una persona de confianza, cumple con todo lo acordado.",img:"https://randomuser.me/api/portraits/men/58.jpg"
},{
  name:"Ana Rodríguez",loc:"Cinco Saltos",rate:5,txt:"Más de 10 años de experiencia se notan. El mueble para TV quedó exactamente como lo imaginaba.",img:"https://randomuser.me/api/portraits/women/28.jpg"
},{
  name:"Diego Fernández",loc:"Allen",rate:5,txt:"Biblioteca a medida que aprovecha perfectamente el espacio. Trabajo muy profesional y puntual.",img:"https://randomuser.me/api/portraits/men/41.jpg"
}];

function starRow(n){return `<div class="stars" aria-label="${n} de 5">`+Array.from({length:5},(_,i)=>i<n?'<i class="fas fa-star"></i>':'<i class="far fa-star"></i>').join('')+`</div>`;}
function reviewCard(r){
  return `<div class="testimonial-card">
    <div class="testimonial-header">
      <div class="testimonial-avatar"><img src="${r.img||'https://i.pravatar.cc/100?u='+encodeURIComponent(r.name)}" alt="Foto de ${r.name}"></div>
      <div><div class="testimonial-author"><strong>${r.name}</strong></div><div class="testimonial-location" style="color:#666;font-size:0.9rem">${r.loc||''}</div>${starRow(r.rate||5)}</div>
    </div>
    <p class="italic">"${r.txt}"</p>
  </div>`;
}
const reviewsGrid=document.getElementById('reviewsGrid');
function loadReviews(){
  const user=JSON.parse(localStorage.getItem('mm_reviews')||"[]");
  reviewsGrid.innerHTML=[...user.reverse(),...baseReviews].map(reviewCard).join("");
}
loadReviews();

/* rating UI */
const ratingStars=document.getElementById('ratingStars'),hiddenRate=document.getElementById('rrate');
ratingStars.addEventListener('click',e=>{
  const v=Number(e.target.dataset.v); if(!v) return;
  hiddenRate.value=v;
  [...ratingStars.children].forEach((i,idx)=>{i.className= idx<v ? 'fa-solid fa-star' : 'fa-regular fa-star';});
});

/* Inicializar estrellas en 5 */
[...ratingStars.children].forEach((i,idx)=>{i.className='fa-solid fa-star';});

/* guardar reseña */
document.getElementById('reviewForm').addEventListener('submit',async e=>{
  e.preventDefault();
  const f=e.target, file=f.rphoto.files[0];
  const base={name:f.rname.value.trim(),loc:f.rloc.value.trim(),rate:Number(f.rrate.value)||5,txt:f.rmsg.value.trim()};
  const save=(img)=>{
    const arr=JSON.parse(localStorage.getItem('mm_reviews')||"[]"); 
    arr.push({...base,img}); 
    localStorage.setItem('mm_reviews',JSON.stringify(arr)); 
    loadReviews(); 
    f.reset();
    // Reset stars to 5
    [...ratingStars.children].forEach((i,idx)=>{i.className='fa-solid fa-star';});
    hiddenRate.value=5;
    alert('¡Gracias por tu reseña! Ha sido publicada en este dispositivo.');
  };
  if(file){const reader=new FileReader(); reader.onload=()=>save(reader.result); reader.readAsDataURL(file);} else save(null);
});

/* Smooth scroll mejorado para mobile */
window.addEventListener('scroll', () => {
  const header = document.querySelector('header');
  if (window.scrollY > 100) {
    header.style.background = 'rgba(78, 54, 41, 0.95)';
  } else {
    header.style.background = 'var(--dark)';
  }
});
</script>
</body>
</html>
